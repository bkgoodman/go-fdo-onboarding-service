# SPDX-FileCopyrightText: (C) 2026 Dell Technologies
# SPDX-License-Identifier: Apache 2.0
# Author: Brad Goodman

# Test configuration for voucher disk saving

debug: true

server:
  addr: "localhost:8080"
  ext_addr: "localhost:8080"
  use_tls: false
  insecure_tls: false

database:
  path: "/tmp/fdo_disk_save_test.db"
  password: ""

manufacturing:
  device_ca_key_type: "ec384"
  owner_key_type: "ec384"
  generate_certificates: true
  first_time_init: false

voucher_management:
  persist_to_db: false
  voucher_signing:
    mode: "external"
    owner_key_type: "ec384"
    first_time_init: false
    external_command: "bash tests/test_hsm_digest_mock.sh {requestfile} {requestid} {station}"
    external_timeout: "30s"
    manufacturer_public_key_file: "tests/test_manufacturer.pub"
  ove_extra_data:
    enabled: true
    external_command: "bash tests/test_ove_extra_data.sh {serial} {model}"
    timeout: "5s"
  save_to_disk:
    directory: "/tmp/fdo_vouchers"
  voucher_upload:
    enabled: true
    external_command: "echo 'Voucher uploaded: serial={serialno} model={model} guid={guid}'"
    timeout: "30s"
