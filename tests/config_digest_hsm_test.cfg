# Test configuration for digest-based HSM signing with OVEExtra data

# Server configuration
server:
  bind_address: "0.0.0.0:8080"
  log_level: "debug"

# Device CA configuration
device_ca:
  key_file: "tests/test_device_ca.key"
  cert_file: "tests/test_device_ca.crt"
  validity_days: 365
  country: "US"
  organization: "Test Organization"
  common_name: "Test Device CA"
  owner_key_type: "ec384"
  generate_certificates: true
  first_time_init: false

voucher_management:
  persist_to_db: false
  voucher_signing:
    mode: "external"
    owner_key_type: "ec384"
    first_time_init: false
    external_command: "bash tests/test_hsm_digest_mock.sh {requestfile} {requestid} {station}"
    external_timeout: "30s"
    manufacturer_public_key_file: "tests/test_manufacturer.pub"
  ove_extra_data:
    enabled: true
    external_command: "bash tests/test_ove_extra_data.sh {serial} {model}"
    timeout: "5s"
  save_to_disk:
    directory: "/tmp/fdo_vouchers_digest"
  voucher_upload:
    enabled: true
    external_command: "echo 'Voucher uploaded: serial={serialno} model={model} guid={guid}'"
    timeout: "30s"
